
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as B,u as V,c as D,C as I,D as L,F as T,G as S,H as w,B as H,I as m,J as R,e as A,f as M,i as s,h as o,K as f,j as t,L as N,k as g,v,w as h,M as b,N as F,O as K,P as j,o as r,T as E,Q as G,R as J,S as O,_ as Q,z as U}from"./index-Co0mQimf.js";import W from"./index-B57q7_x7.js";import q from"./index-CJ2ov5gU.js";import X from"./index-BLxpN3yQ.js";import Y from"./index-CO6E41Po.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-BWgvZBDB.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-BS0WyOuT.js";import te from"./index-YwxanRNN.js";import oe from"./iframe-C7QB7WP0.js";import ie from"./link-DvxQkSgt.js";import ae from"./index-CHew8e9t.js";import{_ as se}from"./index.vue_vue_type_script_setup_true_lang-CcyOOkWf.js";import{u as ne}from"./watermark-CthXpOoJ.js";import{u as me}from"./useMainPage-Dwz-kSf1.js";import"./index.vue_vue_type_script_setup_true_lang-Dp0s2P3M.js";import"./logo-D-CqFC5K.js";import"./rightSide.vue_vue_type_script_setup_true_lang-7rUW5Bwg.js";import"./HDropdownMenu.vue_vue_type_script_setup_true_lang-BH8wHinj.js";import"./tools.vue_vue_type_script_setup_true_lang-DQY8Am8Z.js";import"./index-DHeFv9x3.js";import"./index-BmfP5h1j.js";import"./item.vue_vue_type_script_setup_true_lang-B0AeiTzC.js";import"./index.vue_vue_type_script_setup_true_lang-Ck4Mp0YF.js";import"./HDropdown-DClLxSR2.js";import"./HTabList.vue_vue_type_script_setup_true_lang-x7An4eMH.js";import"./use-resolve-button-type-CRuKX3TB.js";import"./index.vue_vue_type_script_setup_true_lang-Dc_I1v48.js";import"./panel-CcVMmnC7.js";import"./sortable.esm-C0-Qcoum.js";import"./index.vue_vue_type_script_setup_true_lang-CzFzhHkS.js";import"./index-Db2q6hzI.js";import"./index.vue_vue_type_script_setup_true_lang-DjSViNMP.js";import"./index.vue_vue_type_script_setup_true_lang-BFXhLHMt.js";import"./HKbd-6i1h_MPh.js";import"./index-srnQhQmE.js";import"./HBadge.vue_vue_type_script_setup_true_lang-CHz_rrGV.js";import"./panel-B-gSIwhz.js";import"./notification-Cwu4aDhX.js";import"./index-CwRn4qD4.js";import"./index.vue_vue_type_script_setup_true_lang-C9KveHbL.js";import"./sub.vue_vue_type_script_setup_true_lang-y6wArVcl.js";import"./item-CFXLGlMH.js";import"./HTooltip.vue_vue_type_script_setup_true_lang-BNHPIkgP.js";import"./index.vue_vue_type_script_setup_true_lang-CWj_iM5c.js";import"./sub.vue_vue_type_script_setup_true_lang-kLZCdSzv.js";import"./item-Bb7wjTD9.js";import"./index-D4ZHbhH-.js";import"./index.es-Dlb0zXws.js";import"./moreAction-B_KfdD7E.js";import"./useTabbar-p8753Iyc.js";import"./index-w9gb_FY8.js";import"./leftSide.vue_vue_type_script_setup_true_lang-DlZYBHzG.js";import"./HDialog.vue_vue_type_script_setup_true_lang-CfWhSLvX.js";import"./HInput.vue_vue_type_script_setup_true_lang-BalzpWeR.js";import"./HSelect.vue_vue_type_script_setup_true_lang-By04T0CU.js";import"./HCheckList.vue_vue_type_script_setup_true_lang-DFw2n5Jj.js";import"./HToggle.vue_vue_type_script_setup_true_lang-h6oE7raC.js";const re={class:"layout"},pe={class:"wrapper"},le={class:"main"},ue=B({name:"Layout",__name:"index",setup(de){const p=V(),e=D(),C=I(),u=L();ne();const d=me(),x=T(),_=S(()=>!!p.meta.iframe),c=S(()=>!!p.meta.link);w(()=>e.settings.menu.subMenuCollapse,i=>{e.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),w(()=>p.path,()=>{e.mode==="mobile"&&e.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),H(()=>{m("f5",i=>{e.settings.toolbar.pageReload&&(i.preventDefault(),d.reload())}),m("alt+`",i=>{e.settings.menu.enableHotkeys&&(i.preventDefault(),x.switchTo(u.actived+1<u.allMenus.length?u.actived+1:0))}),m("alt+up,alt+down",(i,a)=>{switch(i.preventDefault(),a.key){case"alt+up":d.maximize(!0);break;case"alt+down":d.maximize(!1);break}})}),R(()=>{m.unbind("f5"),m.unbind("alt+`"),m.unbind("alt+up,alt+down")});let n;function y(){n==null||n(),e.setHoverSidebar(!0)}function z(){n==null||n(),{stop:n}=j(()=>{e.setHoverSidebar(!1)},300)}return(i,a)=>{const k=Q,P=A("RouterView");return r(),M("div",re,[s("div",{id:"app-main",class:f({"main-page-maximize":t(e).mainPageMaximizeStatus})},[o(W),s("div",pe,[s("div",{class:f(["sidebar-container",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onMouseenter:y,onMouseleave:z},[o(q),o(X)],34),s("div",{class:f(["sidebar-mask",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=l=>t(e).toggleSidebarCollapse())},null,2),s("div",{class:"main-container",style:N({"padding-bottom":t(p).meta.paddingBottom})},[o(Y),s("div",le,[g(s("div",{class:"exit-main-page-maximize",onClick:a[1]||(a[1]=l=>t(e).setMainPageMaximize())},[o(k,{name:"i-ri:logout-box-line"})],512),[[v,t(e).mainPageMaximizeStatus]]),o(P,null,{default:h(({Component:l,route:$})=>[o(E,{name:t(e).settings.mainPage.enableTransition?t(e).settings.mainPage.transitionMode:"",mode:"out-in",appear:""},{default:h(()=>[(r(),b(J,{include:t(C).list},[g((r(),b(G(l),{key:$.fullPath})),[[v,!(t(_)||t(c))]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),g(o(oe,null,null,512),[[v,t(_)&&!t(c)]]),t(c)?(r(),b(ie,{key:0})):F("",!0)]),o(ae)],4)])],2),o(Z),o(ee),(r(),M(K,{key:0},[s("div",{class:"app-setting",onClick:a[2]||(a[2]=l=>t(O).emit("global-app-setting-toggle"))},[o(k,{name:"i-uiw:setting-o",class:"icon"})]),o(te)],64)),o(se)])}}}),vt=U(ue,[["__scopeId","data-v-ea33518f"]]);export{vt as default};
